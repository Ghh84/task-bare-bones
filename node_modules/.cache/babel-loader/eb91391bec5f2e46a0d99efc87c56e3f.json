{"ast":null,"code":"import React, { Component } from 'react';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nconst CalUtils = () => {\n  calWaitTime = departureDate => {\n    var today = new Date();\n    var currentDate = today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\n    var startTime = moment(currentDate, 'HH:mm:ss');\n    var endTime = moment(departureDate, 'HH:mm:ss');\n    var min = moment.utc(endTime.diff(startTime)).format('mm');\n    return [min] + ' ' + 'min';\n  };\n\n  calDelyedTime = (realDeparture, sheduledDeparture) => {\n    const timeDiff = new Date(sheduledDeparture).getHours() * 60 + new Date(sheduledDeparture).getMinutes() - new Date(realDeparture).getHours() * 60 - new Date(realDeparture).getMinutes();\n    if (timeDiff === 0) return 'Ontime';\n    console.log(timeDiff);\n    if (timeDiff[0] == '-') return timeDiff + ' min ' + 'Delayed';else return timeDiff + ' min ' + 'Earlier';\n  };\n\n  function renderCell(stopInfo, column) {\n    if (column.refId === 'time') {\n      return new Date(_.get(stopInfo, column.path) * 1000).toISOString().substr(11, 5);\n    }\n\n    if (column.refId === 'delay') {\n      const realDeparture = _.get(stopInfo, column.path[0]) * 1000;\n      const sheduledDeparture = _.get(stopInfo, column.path[1]) * 1000;\n      return this.calDelyedTime(realDeparture, sheduledDeparture);\n    }\n\n    if (column.refId === 'dueIn') {\n      const departureDate = new Date(_.get(stopInfo, column.path) * 1000).toISOString().substr(11, 8);\n      return this.calWaitTime(departureDate);\n    }\n\n    return _.get(stopInfo, column.path);\n  }\n};\n\nexport default renderCell;","map":{"version":3,"names":["React","Component","_","moment","CalUtils","calWaitTime","departureDate","today","Date","currentDate","getHours","getMinutes","getSeconds","startTime","endTime","min","utc","diff","format","calDelyedTime","realDeparture","sheduledDeparture","timeDiff","console","log","renderCell","stopInfo","column","refId","get","path","toISOString","substr"],"sources":["C:/Users/gheri/OneDrive/Desktop/Job related/choicely/task-bare-bones/src/utilts/calUtils.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport _ from 'lodash'\r\nimport moment from 'moment'\r\nconst CalUtils = () => {\r\n  calWaitTime = (departureDate) => {\r\n    var today = new Date()\r\n    var currentDate =\r\n      today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds()\r\n    var startTime = moment(currentDate, 'HH:mm:ss')\r\n    var endTime = moment(departureDate, 'HH:mm:ss')\r\n    var min = moment.utc(endTime.diff(startTime)).format('mm')\r\n    return [min] + ' ' + 'min'\r\n  }\r\n  calDelyedTime = (realDeparture, sheduledDeparture) => {\r\n    const timeDiff =\r\n      new Date(sheduledDeparture).getHours() * 60 +\r\n      new Date(sheduledDeparture).getMinutes() -\r\n      new Date(realDeparture).getHours() * 60 -\r\n      new Date(realDeparture).getMinutes()\r\n    if (timeDiff === 0) return 'Ontime'\r\n    console.log(timeDiff)\r\n    if (timeDiff[0] == '-') return timeDiff + ' min ' + 'Delayed'\r\n    else return timeDiff + ' min ' + 'Earlier'\r\n  }\r\n  function renderCell(stopInfo, column) {\r\n    if (column.refId === 'time') {\r\n      return new Date(_.get(stopInfo, column.path) * 1000)\r\n        .toISOString()\r\n        .substr(11, 5)\r\n    }\r\n    if (column.refId === 'delay') {\r\n      const realDeparture = _.get(stopInfo, column.path[0]) * 1000\r\n      const sheduledDeparture = _.get(stopInfo, column.path[1]) * 1000\r\n      return this.calDelyedTime(realDeparture, sheduledDeparture)\r\n    }\r\n    if (column.refId === 'dueIn') {\r\n      const departureDate = new Date(_.get(stopInfo, column.path) * 1000)\r\n        .toISOString()\r\n        .substr(11, 8)\r\n      return this.calWaitTime(departureDate)\r\n    }\r\n    return _.get(stopInfo, column.path)\r\n  }\r\n}\r\n\r\nexport default renderCell\r\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AACA,MAAMC,QAAQ,GAAG,MAAM;EACrBC,WAAW,GAAIC,aAAD,IAAmB;IAC/B,IAAIC,KAAK,GAAG,IAAIC,IAAJ,EAAZ;IACA,IAAIC,WAAW,GACbF,KAAK,CAACG,QAAN,KAAmB,GAAnB,GAAyBH,KAAK,CAACI,UAAN,EAAzB,GAA8C,GAA9C,GAAoDJ,KAAK,CAACK,UAAN,EADtD;IAEA,IAAIC,SAAS,GAAGV,MAAM,CAACM,WAAD,EAAc,UAAd,CAAtB;IACA,IAAIK,OAAO,GAAGX,MAAM,CAACG,aAAD,EAAgB,UAAhB,CAApB;IACA,IAAIS,GAAG,GAAGZ,MAAM,CAACa,GAAP,CAAWF,OAAO,CAACG,IAAR,CAAaJ,SAAb,CAAX,EAAoCK,MAApC,CAA2C,IAA3C,CAAV;IACA,OAAO,CAACH,GAAD,IAAQ,GAAR,GAAc,KAArB;EACD,CARD;;EASAI,aAAa,GAAG,CAACC,aAAD,EAAgBC,iBAAhB,KAAsC;IACpD,MAAMC,QAAQ,GACZ,IAAId,IAAJ,CAASa,iBAAT,EAA4BX,QAA5B,KAAyC,EAAzC,GACA,IAAIF,IAAJ,CAASa,iBAAT,EAA4BV,UAA5B,EADA,GAEA,IAAIH,IAAJ,CAASY,aAAT,EAAwBV,QAAxB,KAAqC,EAFrC,GAGA,IAAIF,IAAJ,CAASY,aAAT,EAAwBT,UAAxB,EAJF;IAKA,IAAIW,QAAQ,KAAK,CAAjB,EAAoB,OAAO,QAAP;IACpBC,OAAO,CAACC,GAAR,CAAYF,QAAZ;IACA,IAAIA,QAAQ,CAAC,CAAD,CAAR,IAAe,GAAnB,EAAwB,OAAOA,QAAQ,GAAG,OAAX,GAAqB,SAA5B,CAAxB,KACK,OAAOA,QAAQ,GAAG,OAAX,GAAqB,SAA5B;EACN,CAVD;;EAWA,SAASG,UAAT,CAAoBC,QAApB,EAA8BC,MAA9B,EAAsC;IACpC,IAAIA,MAAM,CAACC,KAAP,KAAiB,MAArB,EAA6B;MAC3B,OAAO,IAAIpB,IAAJ,CAASN,CAAC,CAAC2B,GAAF,CAAMH,QAAN,EAAgBC,MAAM,CAACG,IAAvB,IAA+B,IAAxC,EACJC,WADI,GAEJC,MAFI,CAEG,EAFH,EAEO,CAFP,CAAP;IAGD;;IACD,IAAIL,MAAM,CAACC,KAAP,KAAiB,OAArB,EAA8B;MAC5B,MAAMR,aAAa,GAAGlB,CAAC,CAAC2B,GAAF,CAAMH,QAAN,EAAgBC,MAAM,CAACG,IAAP,CAAY,CAAZ,CAAhB,IAAkC,IAAxD;MACA,MAAMT,iBAAiB,GAAGnB,CAAC,CAAC2B,GAAF,CAAMH,QAAN,EAAgBC,MAAM,CAACG,IAAP,CAAY,CAAZ,CAAhB,IAAkC,IAA5D;MACA,OAAO,KAAKX,aAAL,CAAmBC,aAAnB,EAAkCC,iBAAlC,CAAP;IACD;;IACD,IAAIM,MAAM,CAACC,KAAP,KAAiB,OAArB,EAA8B;MAC5B,MAAMtB,aAAa,GAAG,IAAIE,IAAJ,CAASN,CAAC,CAAC2B,GAAF,CAAMH,QAAN,EAAgBC,MAAM,CAACG,IAAvB,IAA+B,IAAxC,EACnBC,WADmB,GAEnBC,MAFmB,CAEZ,EAFY,EAER,CAFQ,CAAtB;MAGA,OAAO,KAAK3B,WAAL,CAAiBC,aAAjB,CAAP;IACD;;IACD,OAAOJ,CAAC,CAAC2B,GAAF,CAAMH,QAAN,EAAgBC,MAAM,CAACG,IAAvB,CAAP;EACD;AACF,CAxCD;;AA0CA,eAAeL,UAAf"},"metadata":{},"sourceType":"module"}