{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gheri\\\\OneDrive\\\\Desktop\\\\Job related\\\\choicely\\\\task-bare-bones\\\\src\\\\components\\\\stops\\\\tableComponent\\\\tableBody.jsx\";\nimport React, { Component } from 'react';\nimport _ from 'lodash';\nimport moment from 'moment';\n\nclass TableBody extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.renderCell = (stopInfo, column) => {\n      if (column.path === 'remainTime') {\n        const departureDate = new Date(_.get(stopInfo, 'realtimeDeparture') * 1000).toISOString().substr(11, 8);\n        return this.calWaitTime(departureDate);\n      }\n\n      if (column.path[0] === 'scheduledDeparture') {\n        const realDeparture = _.get(stopInfo, 'realtimeDeparture') * 1000;\n        const sheduledDeparture = _.get(stopInfo, 'scheduledDeparture') * 1000;\n        var dateA = new Date(realDeparture);\n        var dateB = new Date(sheduledDeparture);\n        return dateB.getHours() * 60 + dateB.getMinutes() - dateA.getHours() * 60 - dateA.getMinutes();\n      }\n\n      if (column.path === 'scheduledDeparture') {\n        return new Date(_.get(stopInfo, column.path) * 1000).toISOString().substr(11, 5);\n      }\n\n      if (column.path === 'platformCode') {\n        return _.get(stopInfo.stop, column.path);\n      }\n\n      if (column.path === 'arrivalDelay') {\n        return _.get(stopInfo, column.path);\n      }\n\n      if (column.path === 'realtimeDeparture') {\n        return new Date(_.get(stopInfo, column.path) * 1000).toISOString().substr(11, 5);\n      }\n\n      if (column.path === 'code') {\n        return _.get(stopInfo.stop, column.path) + '/' + _.get(stopInfo.stop, 'gtfsId');\n      }\n\n      return _.get(stopInfo, column.path);\n    };\n\n    this.calWaitTime = departureDate => {\n      var today = new Date();\n      var currentDate = today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\n      var startTime = moment(currentDate, 'HH:mm:ss');\n      var endTime = moment(departureDate, 'HH:mm:ss');\n      var min = moment.utc(endTime.diff(startTime)).format('mm');\n      return [min] + 'mins';\n    };\n\n    this.createKey = (index, column) => {\n      return index + (column.path || column.key);\n    };\n  }\n\n  render() {\n    const {\n      data,\n      columns\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"tbody\", {\n      id: \"tableBody\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, data.map((stopInfo, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, columns.map(column => /*#__PURE__*/React.createElement(\"td\", {\n      key: this.createKey(index, column),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, this.renderCell(stopInfo, column))))));\n  }\n\n}\n\nexport default TableBody;","map":{"version":3,"names":["React","Component","_","moment","TableBody","renderCell","stopInfo","column","path","departureDate","Date","get","toISOString","substr","calWaitTime","realDeparture","sheduledDeparture","dateA","dateB","getHours","getMinutes","stop","today","currentDate","getSeconds","startTime","endTime","min","utc","diff","format","createKey","index","key","render","data","columns","props","map"],"sources":["C:/Users/gheri/OneDrive/Desktop/Job related/choicely/task-bare-bones/src/components/stops/tableComponent/tableBody.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport _ from 'lodash'\r\nimport moment from 'moment'\r\n\r\nclass TableBody extends Component {\r\n  renderCell = (stopInfo, column) => {\r\n    if (column.path === 'remainTime') {\r\n      const departureDate = new Date(\r\n        _.get(stopInfo, 'realtimeDeparture') * 1000,\r\n      )\r\n        .toISOString()\r\n        .substr(11, 8)\r\n      return this.calWaitTime(departureDate)\r\n    }\r\n    if (column.path[0] === 'scheduledDeparture') {\r\n      const realDeparture = _.get(stopInfo, 'realtimeDeparture') * 1000\r\n      const sheduledDeparture = _.get(stopInfo, 'scheduledDeparture') * 1000\r\n      var dateA = new Date(realDeparture)\r\n      var dateB = new Date(sheduledDeparture)\r\n      return (\r\n        dateB.getHours() * 60 +\r\n        dateB.getMinutes() -\r\n        dateA.getHours() * 60 -\r\n        dateA.getMinutes()\r\n      )\r\n    }\r\n    if (column.path === 'scheduledDeparture') {\r\n      return new Date(_.get(stopInfo, column.path) * 1000)\r\n        .toISOString()\r\n        .substr(11, 5)\r\n    }\r\n    if (column.path === 'platformCode') {\r\n      return _.get(stopInfo.stop, column.path)\r\n    }\r\n    if (column.path === 'arrivalDelay') {\r\n      return _.get(stopInfo, column.path)\r\n    }\r\n    if (column.path === 'realtimeDeparture') {\r\n      return new Date(_.get(stopInfo, column.path) * 1000)\r\n        .toISOString()\r\n        .substr(11, 5)\r\n    }\r\n\r\n    if (column.path === 'code') {\r\n      return (\r\n        _.get(stopInfo.stop, column.path) + '/' + _.get(stopInfo.stop, 'gtfsId')\r\n      )\r\n    }\r\n\r\n    return _.get(stopInfo, column.path)\r\n  }\r\n  calWaitTime = (departureDate) => {\r\n    var today = new Date()\r\n    var currentDate =\r\n      today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds()\r\n    var startTime = moment(currentDate, 'HH:mm:ss')\r\n    var endTime = moment(departureDate, 'HH:mm:ss')\r\n    var min = moment.utc(endTime.diff(startTime)).format('mm')\r\n    return [min] + 'mins'\r\n  }\r\n  createKey = (index, column) => {\r\n    return index + (column.path || column.key)\r\n  }\r\n\r\n  render() {\r\n    const { data, columns } = this.props\r\n    return (\r\n      <tbody id=\"tableBody\">\r\n        {data.map((stopInfo, index) => (\r\n          <tr key={index}>\r\n            {columns.map((column) => (\r\n              <td key={this.createKey(index, column)}>\r\n                {this.renderCell(stopInfo, column)}\r\n              </td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TableBody\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}